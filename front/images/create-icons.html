<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
</head>
<body>
    <h2>微信小程序 TabBar 图标生成器</h2>
    <p>点击下面的按钮生成PNG图标文件：</p>
    
    <div id="icons"></div>
    
    <script>
        // 图标SVG数据
        const icons = {
            'home': `<svg width="81" height="81" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="#666666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 22V12H15V22" stroke="#666666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,
            'home-active': `<svg width="81" height="81" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" fill="#ff4757" stroke="#ff4757" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 22V12H15V22" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,
            'history': `<svg width="81" height="81" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="#666666" stroke-width="2"/>
                <polyline points="12,6 12,12 16,14" stroke="#666666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,
            'history-active': `<svg width="81" height="81" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" fill="#ff4757" stroke="#ff4757" stroke-width="2"/>
                <polyline points="12,6 12,12 16,14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,
            'numbers': `<svg width="81" height="81" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="#666666" stroke-width="2"/>
                <line x1="9" y1="9" x2="15" y2="9" stroke="#666666" stroke-width="2" stroke-linecap="round"/>
                <line x1="9" y1="12" x2="15" y2="12" stroke="#666666" stroke-width="2" stroke-linecap="round"/>
                <line x1="9" y1="15" x2="15" y2="15" stroke="#666666" stroke-width="2" stroke-linecap="round"/>
                <circle cx="6" cy="6" r="1" fill="#666666"/>
                <circle cx="18" cy="6" r="1" fill="#666666"/>
                <circle cx="6" cy="18" r="1" fill="#666666"/>
                <circle cx="18" cy="18" r="1" fill="#666666"/>
            </svg>`,
            'numbers-active': `<svg width="81" height="81" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" fill="#ff4757" stroke="#ff4757" stroke-width="2"/>
                <line x1="9" y1="9" x2="15" y2="9" stroke="white" stroke-width="2" stroke-linecap="round"/>
                <line x1="9" y1="12" x2="15" y2="12" stroke="white" stroke-width="2" stroke-linecap="round"/>
                <line x1="9" y1="15" x2="15" y2="15" stroke="white" stroke-width="2" stroke-linecap="round"/>
                <circle cx="6" cy="6" r="1" fill="white"/>
                <circle cx="18" cy="6" r="1" fill="white"/>
                <circle cx="6" cy="18" r="1" fill="white"/>
                <circle cx="18" cy="18" r="1" fill="white"/>
            </svg>`
        };

        // 生成图标
        Object.keys(icons).forEach(name => {
            const div = document.createElement('div');
            div.innerHTML = `
                <h3>${name}.png</h3>
                <div style="border: 1px solid #ccc; display: inline-block; margin: 10px;">
                    ${icons[name]}
                </div>
                <br>
                <button onclick="downloadIcon('${name}')">下载 ${name}.png</button>
                <hr>
            `;
            document.getElementById('icons').appendChild(div);
        });

        function downloadIcon(name) {
            const svg = icons[name];
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 81;
            canvas.height = 81;
            
            const img = new Image();
            img.onload = function() {
                ctx.drawImage(img, 0, 0);
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${name}.png`;
                    a.click();
                    URL.revokeObjectURL(url);
                });
            };
            
            img.src = 'data:image/svg+xml;base64,' + btoa(svg);
        }
    </script>
</body>
</html>